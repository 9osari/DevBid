# Product & Auction 요구사항 정리

## 1. 사용자 관리
- 로그인된 사용자만 상품(경매) 등록 가능
- 사용자는 판매자/입찰자 역할

## 2. 상품(Product) 관리

### 상품 등록
- 상품명, 설명, 이미지
- 카테고리 (메인/서브)
- 상품 상태 정보

### 상품 상태
- 판매중 (SELLING)
- 판매완료 (SOLD)

## 3. 경매(Auction) 관리

### 경매 설정
- 경매 시작가
- 경매 종료가 (reserve price?)
- 즉시낙찰가
- 경매 종료시간

### 경매 상태
- 경매전 (BEFORE_START)
- 경매중 (ONGOING)
- 경매완료 (ENDED)

## 4. 비즈니스 규칙

### 기본 규칙
- Product ↔ Auction = 1:1 관계
- 경매 종료 시 상태 동기화
- 각 엔티티는 독립적인 생명주기

### 경매 종료 관련
- 경매 종료 임박 시 **판매자는 연장 가능**
- 경매 종료되면 해당 상품의 경매는 완전히 끝
- 재판매 시 판매자가 새로운 경매로 다시 등록 필요

### 즉시낙찰
- 판매자가 즉시낙찰가 설정 시
- 구매자는 해당 가격으로 **즉시 구매 가능**
- 즉시낙찰 시 경매 즉시 종료

## 5. 추후 고려사항 (동시성 처리)
- 경매 연장 횟수/시간 제한
- 동시 입찰 처리
- 즉시낙찰 vs 일반 입찰 동시 처리
- 경매 연장 시 race condition

## 6. 설계 방향
- 상품 정보와 거래 로직 분리
  - Product: 상품 자체 정보 관리
  - Auction: 거래 방식 및 경매 로직 관리

## 7. 어캐하노
- 조회수는 상품 책임인지? 경매 책임인지? 중복 조회는 어떻게 처리할건지? ip기반? 엔티티 따로 뺴는건 맞는데 흠.. 아니면 외부서비스?
- 수정책임은 상품? 경매? 서비스단?